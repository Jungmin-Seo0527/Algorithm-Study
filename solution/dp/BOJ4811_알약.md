# [알약](https://www.acmicpc.net/problem/4811)

### 난이도

***
G5
<br><br>

### 알고리즘 분류

***

* dp
* catalan number

<br><br>

### Solution

***

알약 한개를 반쪽만 먹고 반쪽은 다시 병에 넣는다. 즉 알약 한개를 집는 행위와 알약 반개를 집는 행위(W - H)는 쌍을 이루어야 한다. 완벽한 쌍은 괄호 문제이며 모든 괄호 문제는 카탈린 수로 쉽게 해결할 수
있다.

#### 카탈린 수

이전에 카탈린 수를 공부하고 문제를 푼 경험이 있지만 이 문제에서 카탈린 수를 떠올리지 못했다. 그래서 복습겸 다시 정리하면서 작성하려 한다.

* 모든 괄호쌍 문제는 카탈린 수 알고리즘에 속한다.
* 한가지 경우를 시행하면 그와 쌍이 되는 다른 경우를 반드시 시행해야 하는 모든 갯수
* Cn = sum(Ci * Cn-i-1) (i = 0 ~ n-1) (Cn = 괄호가 n쌍인 경우의 수)
* A가 완벽한 괄호이고, B도 완벽한 괄호일 때 (A)B는 완벽한 괄호인 성질을 이용한다.
* Cn = C0 * Cn-1 + C1 * Cn-2 + C2 * Cn-3 + ... + Cn-1 * C0
* Cn = (C0)Cn-1 + (C1)Cn-2 + (C2)Cn-3 + (C3)Cn-4 + ... + (Cn-1)C0


* C0 = 괄호가 없는 경우를 1로 본다.
* C1 = (C0)C0
    * (C0)C0 -> `()`
    * 총 1개: `()`
* C2 = (C0)C1 + (C1)C0
    * (C0)C1 -> `()()`
    * (C1)C0 -> `(())`
    * 총 2개
* C3 = (C0)C2 + (C1)C1 + (C2)C0
    * (C0)C2 -> `()()()`, `()(())`
    * (C1)C1 -> `(())()`
    * (C2)C0 -> `(()())`, `((()))`
    * 총 5개

알약 한개에 해당하는 W는 이후에 꼭 알약 반개에 해당하는 H를 가져야 하는 완전한 괄호쌍이어야 한다. 따라서 `(` = W, `)` = H 가 성립하게 되며 그대로 카탈린 수를 적용하면 된다.

> 이전에 비슷한 유형의 문제인 `BOJ10422_괄호`문제를 풀었지만 이 문제를 못푼것은 아쉬울 따름이다. 따라서 카탈린 수 유형의 문제들을 정리해본다.
>
> 1. A -> B 최단경로(대각선을 지나지 않는...)
> 2. 이진탐색 트리
> 3. 괄호 문제
> 4. 다각형을 삼각형으로 나누기

<br><br>

### [전체 코드](https://github.com/Jungmin-Seo0527/CodingTest/blob/main/src/dp/BOJ4811_알약.java)
