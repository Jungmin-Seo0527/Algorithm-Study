# [탈옥](https://www.acmicpc.net/problem/9376)

### 난이도

***
P5
<br><br>

### 알고리즘 분류

***

* 너비 우선 탐색

<br><br>

### Solution

***

최근 풀었던 문제중 가장 어려웠던 문제.

감옥에 죄수를 감옥 외부에 있는 상근이가 구출해야 하는 문제이다.

이 문제를 풀기 위한 아이디어가 필요로 하다. 우선 첫번째로 감옥 밖에서 부터 시작하는, 모든 문을 열수 있는 상근이의 출발이다.        
이를 구현하기 위해 **감옥 밖에서 상근이가 이동할 수 있는 칸을 좌우상하 한칸씩 늘려주어야 한다.** 문제에서 이동 거리는 전혀 필요 없다. 오직 문을 최소한으로 열어야 한다.

죄수가 2명이기에 상근이의 입장에서 죄수 한명을 구출하는 최단 거리를 bfs로 구하고, 또다른 죄수를 구출하기 위해 이동하는 경로에서 문을 만났을 때, 이 문은 이미 열린 문일 수 있고, 열지 않은 문일 수 있다.
그런데 열린 문들 중에는 죄수 1을 찾기위한 최단거리를 구하기 위한 BFS 과정에서 열린 문일 수 있다.(실제로는 죄수1을 구하기 위한 경로의 문이 아니지만, BFS의 특성상 같은 깊이의 경우를 모두 탐색하기 때문에
열린 문)       
**그렇기에 만약 상근이의 이동에만 포커싱을 맞춘다면, 죄수1을 구하는 최단 경로를 구한 다음 그 경로에 존재하는 문만 열었음을 표시한 후에 죄수 2를 구해야 한다.**

위의 방법을 좀더 쉽게 구현하는 방법이 있다. 바로 상근이, 죄수1, 죄수2가 동시에 움직이는 것으로 구현하는 것이다.      
문제는 이동 거리를 구하는 것이 아니다. 오직 문의 갯수만을 구하기 때문에 상근이가 문을 열어 죄수에게 가는 것이나, 죄수가 문을 열어 상근이에게 가는 것이나, 문이 열린다는 것은 동일하다. 따라서, **만약
상근이, 죄수1, 죄수2가 동시에 움직여서 한 지점에서 만나는 경우가 있다면, 이는 상근이가 모든 죄수를 구했다고 볼 수 있다.**

이 문제를 풀기 위한 아이디어를 2가지로 정리한다.

* 감옥 밖에서 상근이가 이동할 수 있는 공간 마련
* 상근이, 죄수1, 죄수2가 동시에 이동하여 한 점에서 만난다면 이는 상근이가 모두를 구한것

여기서 3명이 동시에 움직이는 것은 우선 각각의 사람이 움직일때 모든 지점에서의 최단 문 갯수를 구한다. (이 문제의 지도의 범위는 최대 100x100이다.)        
그리고 3명이 모두 방문한 지점중에 문의 갯수가 최소가 되는 지점이 상근이가 문을 최소한으로 열어서 모두를 구할 수 있는 경우이다.       
단 **세명이 만난 지점에 문이 존재한다면, 그 문은 세사람중 1명만 열면 되므로, -2를 해준다**

> 경우점을 생각하는 아이디어가 상당히 어려웠던 문제이다.        
> 0-1BFS, 다익스트라 이런 알고리즘이 어려운 것 보다, 상근이의 감옥 밖에서의 이동 공간 만들기, 세명이 동시에 이동하는 것으로 구현 이 아이디어를 떠올리는 것이 어려웠다.

<br><br>

### [전체 코드](https://github.com/Jungmin-Seo0527/CodingTest/blob/main/src/dfs_bfs/BOJ9376_탈옥.java)
