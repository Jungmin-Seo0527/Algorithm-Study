# [괄호 변환](https://programmers.co.kr/learn/courses/30/lessons/60058)

### 난이도

***
Level 2
<br><br>

### 알고리즘 분류

***

* 구현
* 재귀
* 문자열

<br><br>

### Solution

***

놀랍게도 정말 문제가 시키는 그대로 구현하면 된다. 이 문제는 문제를 풀어내기 위한 코드를 작성하는 것이 아닌 문제가 구현 방법을 설명을 하고 그대로 구현해 낼수 있는가를 묻는 문제인것 같다. 구현 방법은 아래와
같고 놀랍게도 아래의 구문은 문제에 포함되어 있는 구문이다.

1. 입력이 빈 문자열인 경우, 빈 문자열을 반환합니다.
2. 문자열 w를 두 "균형잡힌 괄호 문자열" u, v로 분리합니다. 단, u는 "균형잡힌 괄호 문자열"로 더 이상 분리할 수 없어야 하며, v는 빈 문자열이 될 수 있습니다.
3. 문자열 u가 "올바른 괄호 문자열" 이라면 문자열 v에 대해 1단계부터 다시 수행합니다. 3-1. 수행한 결과 문자열을 u에 이어 붙인 후 반환합니다.
4. 문자열 u가 "올바른 괄호 문자열"이 아니라면 아래 과정을 수행합니다. 4-1. 빈 문자열에 첫 번째 문자로 '('를 붙입니다. 4-2. 문자열 v에 대해 1단계부터 재귀적으로 수행한 결과 문자열을 이어
   붙입니다. 4-3. ')'를 다시 붙입니다. 4-4. u의 첫 번째와 마지막 문자를 제거하고, 나머지 문자열의 괄호 방향을 뒤집어서 뒤에 붙입니다. 4-5. 생성된 문자열을 반환합니다.

```java
public class Solution {
    String recur(String s) {
        // 1. 입력이 빈 문자열인 경우, 빈 문자열을 반환합니다.
        if (s.equals("")) return s;
        if (isGood(s)) return s;

        // 균형잡힌 문자열의 인덱스 찾기
        int left = 0, right = 0, i;
        for (i = 0; i <= s.length(); i++) {
            if (s.charAt(i) == '(') left++;
            else if (s.charAt(i) == ')') right++;
            if (left == right) break;
        }

        // 2. 문자열 w를 두 "균형잡힌 괄호 문자열" u, v로 분리합니다.
        // 단, u는 "균형잡힌 괄호 문자열"로 더 이상 분리할 수 없어야 하며, v는 빈 문자열이 될 수 있습니다.
        String u = s.substring(0, i + 1) + "";
        String v = s.substring(i + 1, s.length()) + "";

        // 3. 문자열 u가 "올바른 괄호 문자열" 이라면 문자열 v에 대해 1단계부터 다시 수행합니다.
        // 3-1. 수행한 결과 문자열을 u에 이어 붙인 후 반환합니다.
        if (isGood(u)) {
            return u + recur(v);
        } else { // 문자열 u가 "올바른 괄호 문자열"이 아니라면 아래 과정을 수행합니다. 

            // 4-1. 빈 문자열에 첫 번째 문자로 '('를 붙입니다. 
            // 4-2. 문자열 v에 대해 1단계부터 재귀적으로 수행한 결과 문자열을 이어 붙입니다.
            // 4-3. ')'를 다시 붙입니다.
            // 4-4. u의 첫 번째와 마지막 문자를 제거하고, 나머지 문자열의 괄호 방향을 뒤집어서 뒤에 붙입니다.
            // 4-5. 생성된 문자열을 반환합니다.


            String temp = "";
            // 4-4 부분
            for (i = 1; i < u.length() - 1; i++) {
                if (u.charAt(i) == '(') temp += ")";
                else temp += "(";
            }
            return "(" + recur(v) + ")" + temp;
        }

    }
}
```   

코드에 시키는 부분의 구문을 주석처리해서 붙여넣어 보았다. 처음 보는 사람들은 너무 많은 주석 때문에 보기 힘들겠지만 문제를 풀어보고 고민해본 사람들은 쉽게 이해할 것이라고 생각한다. 정말 시키는 대로 재귀를
구현하면 되므로 추가할 설명도 없다.

<br><br>

### [전체 코드](https://github.com/Jungmin-Seo0527/CodingTest/blob/main/src/kakao/recruit2020/괄호_변환.java)
