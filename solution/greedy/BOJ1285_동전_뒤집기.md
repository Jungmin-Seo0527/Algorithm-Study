# [BOJ1285 동전 뒤집기](https://www.acmicpc.net/problem/1285)

### 난이도

***
G1
<br><br>

### 알고리즘 분류

***

* 그리디 알고리즘
* 브루트포스 알고리즘(깊이 우선 탐색)
* 비트마스킹

<br><br>

### Solution

***

그리디 알고리즘과 브루트포스를 혼합해서 적용해야 풀수 있는 어려운 문제였다. 거기에 비트마스킹을 이용하면 처리시간을 줄일 수 있다.(통과에 필수는 아닌듯 하다.)

우선 두 알고리즘을 어떻게 적용했는가를 설명하겠다.

* 브루트 포스: 행에 대한 뒤집기의 모든 경우를 구한다.
* 그리디: 행만을 고려한 모든 경우에 대해 앞면과 뒷면중 적은 숫자들을 모두 더해준다.

좀더 풀어서 설명하자면 사실 이 문제는 모든 경우의 수를 구해야 한다. 따라서 행에 대해서만 뒤집는 행위의 모든 경우를 구한다. 이때 비트마스킹을 곁들이면 비트연산 `~`하나만으로 한 행에 대한 뒤집기 수행이
가능하다.

행에 대한 모든 경우를 구했다면 그 경우에 대한 모든 열의 경우를 구해야 한다. 진짜 행에서 했던것 처름 브루트 포스로 모든 조합을 구하면 당연히 시간초과 이다. 따라서 그리디 알고리즘을 적용한다.      
최종 목적은 뒷면을 최소한으로 구해야 한다. 그렇다면 현재 열에서 뒷면이 최소한으로 나오도록 해주면 된다. **다음 열을 뒤집는 행위는 현재 열에 영향을 끼치지 않는다!!!** 또 한가지, 열의 구성 요소는 동전의
앞면과 뒷면이 있으며 행위는 결국 뒤집기 이다. 그렇기 때문에 앞면의 갯수과 뒷면의 갯수중 최소값이 현재 열에서 뒷면을 최소한으로 만들수 있는 경우이다.

* 모든 행에 대한 조합 구하기 (브루트 포스)
    ```java
    public class Main {
        static void doDFS(int row) {
            if (row == N) {
                int cnt = 0;
                for (int i = 0; i < N; i++) {
                    cnt += getLeastCoins(i);
                }
                ans = Math.min(ans, cnt);
                return;
            }
            doDFS(row + 1);
            coins[row] = ~coins[row];
            doDFS(row + 1);
        }
    }
    ```
    * `row == N`인 경우에 열에 대해서 고려한다.
    * 행위가 뒤집거나, 뒤집지 않는 경우뿐이므로 재귀를 이용해 쉽게 모든 조합을 구할 수 있다.
    * 비트 마스킹을 이용해서 한 행을 뒤집는 코드는 `coins[row] = ~coins[row];`로 간편하게 구현했다.

* 각 열에 대해서 뒷면을 최소화 시키기 (그리디)
    ```java
    public class Main {
        static int getLeastCoins(int col) {
            int T = 0;
            int bit = 1 << col;
            for (int i = 0; i < N; i++) {
                if ((coins[i] & bit) != 0) {
                    T++;
                }
            }
            return Math.min(T, N - T);
        }
    }
    ```

> 그리디와 브루트포스를 혼합해서 구하는 꽤 난이도가 높은 문제이다. 이 두 알고리즘을 혼합한 대표적인 문제이며, 비슷한 유형의 여러 문제들도 존재한다. 만약 어려운 난이도의 문제가 출제된다면 충분히 만나볼 수 있을 것이라 생각한다.

<br><br>

### [전체 코드](https://github.com/Jungmin-Seo0527/CodingTest/blob/main/src/greedy/BOJ1285_동전_뒤집기.java)
