# [Contest_Start](https://codeforces.com/contest/1539/problem/A)

### 난이도

***
1000
<br><br>

### 문제

***
일부 콘테스트에 n 명이 참가하고 x 분 간격으로 참가하기 시작합니다. 즉, 첫 번째 참가자는 시간 0에서 시작하고 두 번째 참가자는 시간 x, 세 번째 참가자는 2⋅x 시간에 시작하는 식입니다.

콘테스트 기간은 각 참가자에 대해 t 분이므로 첫 번째 참가자는 t 시간에 콘테스트를 완료하고 두 번째 참가자는 t + x 시간에 콘테스트를 완료합니다. 참가자가 콘테스트를 마쳤을 때 불만족은 콘테스트를 시작 (또는
지금 시작)했지만 아직 끝내지 않은 참가자 수와 같습니다.

모든 참가자의 불만족 합계를 결정합니다.

<br><br>

### 입력

***
첫 번째 줄에는 단일 정수 k (1≤k≤1000) (테스트 케이스 수)가 포함됩니다.

다음 k 개의 줄에는 각각 n, x, t (1≤n, x, t≤2⋅109)의 세 정수 (참가자 수, 시작 간격 및 컨테스트 기간)가 포함됩니다.
<br><br>

### 출력

***

i 번째 줄에 i 번째 테스트 케이스 참가자의 총 불만족을 인쇄합니다.

<br><br>

### 도움말

***

첫 번째 예에서 첫 번째 참가자는 0에서 시작하여 시간 5에 끝납니다. 이때 두 번째 및 세 번째 참가자가 시작하므로 첫 번째 참가자의 불만은 2입니다.

두 번째 참가자는 시간 2에 시작하여 시간 7에 끝납니다. 이때 세 번째 참가자는 네 번째 참가자가 시작하므로 두 번째 참가자의 불만은 2입니다.

세 번째 참가자는 4시에 시작하여 9시에 끝납니다. 이때 네 번째 참가자는 시작하므로 세 번째 참가자의 불만은 1입니다.

네 번째 참가자는 6시에 시작하여 11시에 끝납니다. 11시에 모두가 콘테스트를 마치므로 네 번째 참가자의 불만은 0입니다.

두 번째 예에서 첫 번째 참가자는 0에서 시작하여 2시에 끝납니다. 그 때까지 두 번째 참가자는 시작하고 세 번째 참가자는 정확히 2에서 시작합니다. 따라서 첫 번째 참가자의 불만은 2입니다.

두 번째 참가자는 시간 1에 시작하여 시간 3에 끝납니다. 이때 세 번째 참가자는 콘테스트를 해결하고 있습니다.

<br><br>

#### 예제 입력 1

> 4     
4 2 5       
3 1 2       
3 3 10      
2000000000 1 2000000000

#### 예제 출력 1

> 5     
3       
3       
1999999999000000000

<br><br>

### 알고리즘 분류

***

* combinatorics
* geometry
* greedy
* math

<br><br>

### Solution

***

이 문제는 참고로 O(1)이 아니면 시간초과가 일어난다. 즉 계산식을 구해서 적용해야 하는 수학 문제이다.

시작 간격 `x`, 축제 기간 `t`를 나열해 보면

| 순서 | 1 | 2 |3 | 4 |
| --- | --- | --- | --- | --- |        
|시작 시간 | x | 2x | 3x | 4x |       
|끝나는 시간| x + t | 2x + t | 3x + t | 4x + t|              

1번의 끝나는 시간인 x + t보다 빠른 시작시간을 가지는 인원만큼의 불만을 가지게 된다. 시작 시간은 일정하게 x만큼 늘어나니 불만 지수는 각각의 인원이 `t/x`만큼 가지게 된다.

첫번째 예제인 `n = 4, x = 2, t = 5`를 표로 나타내면

| 순서 | 1 | 2 |3 | 4 |
| --- | --- | --- | --- | --- |        
|시작 시간 | 0 | 2 | 4 | 8 |       
|끝나는 시간| 5 | 7 | 9 | 11 |

1번과 2번은 각각 `t/x = 2` 만큼의 불만을 가지게 된다. 그런데 3번을 보면 자신이 끝나는 시간보다 일찍 시작하는 인원이 동일하게 2명이어야 하는데 이미 남은 인원이 1명밖에 남지 않았다.      
**즉 `n - t/x`명 까지만 불만 지수가 `t/x`만큼 가지게 된다.** 또한 **이후의 인원들은 남은 인원이 `t/x`보다 적기 때문에 자신 이후의 남은 모든 인원이 불만 사항이 된다.** `t/x - 1`
부터 0까지의 합이 정답이 된다.      
결론적으로 이 문제의 식은 **`(n - t/x) * t/x + t/x * (t/x - 1)/2`**가 된다.

```java
public class Main {
    static long solve(long n, long x, long t) {
        long temp = t / x;
        long cnt = (n - temp) * temp;
        temp--;
        cnt += (temp * (temp + 1)) / 2;
        return cnt;
    }
}
```

그런데 여기서 예외 사항이 존재한다. 이미 시작 인원인 `n`의 값이 처음부터 `t/x`보다 적은 경우이다. 예를 들어 `n = 3, x = 2, t = 10`인 경우를 표로 나타내 보겠다.

| 순서 | 1 | 2 |3 | 4 |
| --- | --- | --- | --- | --- |        
|시작 시간 | 0 | 2 | 4 | 8 |       
|끝나는 시간| 10 | 12 | 14 | 18 |

시작부터 모든 인원이 불만이 된다. 따라서 이런 경우에만 예외 처리를 해주면 통과를 받아낼 수 있다.

```java
public class Main {
    static long solve(long n, long x, long t) {
        long temp = t / x;

        // 시작부터 모든 인원이 불만인 경우
        if (n - temp < 0) {
            return (n - 1) * n / 2;
        }

        long cnt = (n - temp) * temp;
        temp--;
        cnt += (temp * (temp + 1)) / 2;
        return cnt;
    }
}
```

> 마지막 예외를 생각해내지 못해서 시간을 많이 까먹은 문제였다.

<br><br>

### [전체 코드](https://github.com/Jungmin-Seo0527/CodingTest/blob/main/src/codeforces/R727_D2/A_Contest_Start.java)
