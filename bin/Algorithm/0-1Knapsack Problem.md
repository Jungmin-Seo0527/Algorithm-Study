# 0-1 Knapsack Problem

***
0-1 배낭문제는 물건을 쪼갤수 없는 경우의 문제이다.

아래의 표는 주어진 물건들의 무게와 가치이다.

|물건|1|2|3|4|
|---|---|---|---|---|
|무게|6|4|3|5|
|가치|13|8|6|12|

아래의 표의 행은 물건의 갯수, 열은 가방에 넣을수 있는 최대 무게를 나타낸다.

|0|1|2|3|4|5|6|7|
|---|---|---|---|---|---|---|---|
| 1| | | | | | | | | | | | |
| 2| | | | | | | | | | | | |
| 3| | | | | | | | | | | | |
| 4| | | | | | | | | | | | |

***

첫번째 물건을 넣을때의 표의 변화이다.   
최대 무게가 6인 순간부터 첫번째 물건의 가치 13이 표에 올라올 수 있다.

|---|1|2|3|4|5|6|7|
|---|---|---|---|---|---|---|---|
| 1| 0| 0| 0| 0| 0| 13| 13|
| 2| | | | | | | |
| 3| | | | | | | |
| 4| | | | | | | |

***
두번째 물건을 넣을 때의 표의 변화이다

|---|1|2|3|4|5|6|7|
|---|---|---|---|---|---|---|---|
| 1| 0| 0| 0| 0| 0| 13| 13|
| 2| 0| 0| 0| 8| 8| 13| 13|
| 3| | | | | | | |
| 4| | | | | | | |

두번째 물건의 무게는 4 이며, 가치는 8이다.  
즉 가방의 최대 무게 한도가 4 이상일때부터 물건을 넣을 수 있다.   
하지만 가방의 최대 무게 한도가 6일때는 1번 물건을 넣는 것이 더 가치가 높기에 13이다.
***

세번째 물건을 넣을때의 표의 변화이다.

|---|1|2|3|4|5|6|7|
|---|---|---|---|---|---|---|---|
| 1| 0| 0| 0| 0| 0| 13| 13|
| 2| 0| 0| 0| 8| 8| 13| 13|
| 3| 0| 0| 6| 8| 8| 13| 14|
| 4| | | | | | | |

다른 부분은 2번째 물건을 넣을때와 같은 양상을 띄지만 가방의 최대 무게 한도가 7일때를 보자    
현재 넣을 물건의 무게는 3이다. 그렇다면 만약 이전의 물건까지 넣었을때의 행에서 만약 현재 한도의 무게(7) 에서 현재 넣으려는 무게(3) 를 뺀 즉, 최대 무게의 한도가 4이면서 2번째 물건까지 넣었을때의 지점을
보면 표에서는 (2, 4) 인 부분을 보면 된다.   
이미 그 지점에 2번째 물건인 가치 8의 물건을 넣었다. 그렇다면 현재 넣으려는 무게와 2번째 물건까지 넣었을때의 가치에 현재 물건의 가치를 더해주면 그 값이 최대값이 된다.

***
네번째 물건을 넣을때의 표의 변화이다.

|---|1|2|3|4|5|6|7|
|---|---|---|---|---|---|---|---|
| 1| 0| 0| 0| 0| 0| 13| 13|
| 2| 0| 0| 0| 8| 8| 13| 13|
| 3| 0| 0| 6| 8| 8| 13| 14|
| 4| 0| 0| 0| 0| 12| 13| 14|

네번째 물건의 무게는 5이며, 가치는 12 이다. 표에서의 (4, 5) 에 들어갈수 있는 최대값은 12인 의미이다.    
하지만 만약 이 상태에서 가방의 최대 무게 한도가 6이 되면, 4번째 물건이 아닌 첫번째 물건을 넣는것이 가치가 높기에 첫번째 물건의 가치인 13이 된다. 이 값은 바로 이전의 행을 참고하면 된다. 가방의 최대 무게
한도가 7인 경우에도 바로 이전의 행이 가장 큰 경우이다.  
현재 넣으려는 물건의 무게 5 이전인 가방의 최대 무게 한도가 2 일때 이전 물건까지 넣었을때의 최대값이 0이기 때문에 그대로 12가 최대이고, 그 방법보다는 이전 물건을 넣었을때 찾았던, 두번째 물건과 세번째
물건을 넣을때의 경우가 더 크므로 그값을 기록한다.

***

### 점화식

점화식을 세우면 이러하다.  
dp[n][w] = max(dp[n-1][w], dp[n-1][w-nw] + nv)  
n은 현재 넣으려는 물건의 번호이다. (1<=n)     
w는 가방이 넣을수 있는 최대 무게 한도이다.   
nw는 현재 넣으려는 물건의 무게이다.   
nv는 현재 넣으려는 물건의 가치이다.
***

### 코드
변수는 위의 점화식에서의 변수와 동일하게 하였다.
```java
public class KnapsackProblem_01 {
    int solve() {
        for (int n = 1; n <= N; n++) {
            for (int w = 1; w <= K; w++) {
                dp[n][w] = dp[n - 1][w];
                if (w - object[n].weight >= 0)
                    dp[n][w] = Math.max(dp[n][w], dp[n - 1][w - object[n].weight] + object[n].value);
            }
        }
        return dp[N][K];
    }
}


```
